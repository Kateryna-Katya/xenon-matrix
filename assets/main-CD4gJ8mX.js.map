{"version":3,"file":"main-CD4gJ8mX.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n    \n    // ==========================================\n    // 1. ИНИЦИАЛИЗАЦИЯ (Icon + Smooth Scroll)\n    // ==========================================\n    if (typeof lucide !== 'undefined') lucide.createIcons();\n\n    // Регистрируем ScrollTrigger\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Lenis (Плавный скролл)\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        smooth: true,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // Связываем Lenis и GSAP\n    lenis.on('scroll', ScrollTrigger.update);\n    gsap.ticker.add((time) => {\n        lenis.raf(time * 1000);\n    });\n    gsap.ticker.lagSmoothing(0);\n\n\n    // ==========================================\n    // 2. АНИМАЦИИ (МЕТОД \"КАЖДЫЙ ЗА СЕБЯ\")\n    // ==========================================\n    \n    // --- Hero Section ---\n    const heroTl = gsap.timeline();\n    heroTl.fromTo('.hero__title', { y: 50, opacity: 0 }, { y: 0, opacity: 1, duration: 1, delay: 0.2 })\n          .fromTo('.hero__desc', { y: 30, opacity: 0 }, { y: 0, opacity: 1, duration: 0.8 }, \"-=0.6\")\n          .fromTo('.hero__btns', { y: 20, opacity: 0 }, { y: 0, opacity: 1, duration: 0.8 }, \"-=0.6\")\n          .fromTo('.cube-wrapper', { scale: 0, opacity: 0, rotation: 180 }, { scale: 1, opacity: 1, rotation: 0, duration: 1.5, ease: \"elastic.out(1,0.5)\" }, \"-=1\");\n\n    // --- Заголовки секций ---\n    document.querySelectorAll('.section__header').forEach(header => {\n        gsap.fromTo(header, \n            { y: 50, opacity: 0 },\n            {\n                y: 0, opacity: 1, duration: 0.8,\n                scrollTrigger: {\n                    trigger: header,\n                    start: \"top 85%\"\n                }\n            }\n        );\n    });\n\n    // --- УНИВЕРСАЛЬНЫЙ АНИМАТОР КАРТОЧЕК ---\n    // Находим ВСЕ элементы, которые должны всплывать\n    const allAnimElements = document.querySelectorAll('.card, .blog-card, .innovation__list li, .contact__item');\n\n    allAnimElements.forEach((el, index) => {\n        gsap.fromTo(el, \n            { \n                y: 50, \n                opacity: 0 \n            },\n            {\n                y: 0, \n                opacity: 1, \n                duration: 0.8, \n                ease: \"power2.out\",\n                scrollTrigger: {\n                    trigger: el, // Триггер - это сам элемент\n                    start: \"top 90%\", // Анимация начнется, когда верх элемента появится внизу экрана\n                    toggleActions: \"play none none reverse\" // При скролле вверх анимация проиграется назад (красивый эффект)\n                }\n            }\n        );\n    });\n\n    // --- Отдельные элементы ---\n    const img = document.querySelector('.innovation__image');\n    if(img) {\n        gsap.fromTo(img, \n            { scale: 0.9, opacity: 0 },\n            { scale: 1, opacity: 1, duration: 1, scrollTrigger: { trigger: img, start: \"top 80%\" }}\n        );\n    }\n    \n    const formSection = document.querySelector('.form');\n    if(formSection) {\n        gsap.fromTo(formSection, \n            { x: 50, opacity: 0 },\n            { x: 0, opacity: 1, duration: 0.8, scrollTrigger: { trigger: formSection, start: \"top 80%\" }}\n        );\n    }\n\n\n    // ==========================================\n    // 3. ФУНКЦИОНАЛ (Меню, Форма, Куки)\n    // ==========================================\n    \n    // Мобильное меню\n    const burger = document.querySelector('.header__burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const links = document.querySelectorAll('.mobile-menu__link');\n\n    if(burger) {\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('is-active');\n            mobileMenu.classList.toggle('is-open');\n            document.body.classList.toggle('no-scroll');\n        });\n        links.forEach(l => l.addEventListener('click', () => {\n            burger.classList.remove('is-active');\n            mobileMenu.classList.remove('is-open');\n            document.body.classList.remove('no-scroll');\n        }));\n    }\n\n    // Форма и Капча\n    const form = document.getElementById('contactForm');\n    if (form) {\n        const n1 = Math.floor(Math.random()*5)+1, n2 = Math.floor(Math.random()*5)+1;\n        const res = n1 + n2;\n        if(document.getElementById('captchaTask')) document.getElementById('captchaTask').textContent = `${n1} + ${n2}`;\n        \n        // Валидация ввода телефона\n        const ph = document.getElementById('phone');\n        if(ph) ph.addEventListener('input', e => e.target.value = e.target.value.replace(/\\D/g,''));\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            if(parseInt(document.getElementById('captcha').value) !== res) {\n                alert('Ошибка капчи!'); return;\n            }\n            const btn = form.querySelector('button');\n            btn.textContent = 'Успешно!';\n            btn.style.background = '#D9F99D'; btn.style.color = '#000';\n            setTimeout(() => {\n                form.style.display='none';\n                document.getElementById('formSuccess').style.display='block';\n            }, 1000);\n        });\n    }\n\n    // Cookie\n    if(!localStorage.getItem('cookieAccepted')) {\n        setTimeout(() => document.getElementById('cookiePopup')?.classList.add('is-visible'), 2000);\n        document.getElementById('acceptCookie')?.addEventListener('click', () => {\n            localStorage.setItem('cookieAccepted', 'true');\n            document.getElementById('cookiePopup').classList.remove('is-visible');\n        });\n    }\n});"],"names":["lenis","raf","time","header","el","index","img","formSection","burger","mobileMenu","links","l","form","n1","n2","res","ph","e","btn","_a"],"mappings":"ssBAAA,SAAS,iBAAiB,mBAAoB,IAAM,OAK5C,OAAO,OAAW,KAAa,OAAO,YAAa,EAGvD,KAAK,eAAe,aAAa,EAGjC,MAAMA,EAAQ,IAAI,MAAM,CACpB,SAAU,IACV,OAAS,GAAM,KAAK,IAAI,EAAG,MAAQ,KAAK,IAAI,EAAG,IAAM,CAAC,CAAC,EACvD,OAAQ,EAChB,CAAK,EAED,SAASC,EAAIC,EAAM,CACfF,EAAM,IAAIE,CAAI,EACd,sBAAsBD,CAAG,CACjC,CACI,sBAAsBA,CAAG,EAGzBD,EAAM,GAAG,SAAU,cAAc,MAAM,EACvC,KAAK,OAAO,IAAKE,GAAS,CACtBF,EAAM,IAAIE,EAAO,GAAI,CAC7B,CAAK,EACD,KAAK,OAAO,aAAa,CAAC,EAQX,KAAK,SAAU,EACvB,OAAO,eAAgB,CAAE,EAAG,GAAI,QAAS,CAAG,EAAE,CAAE,EAAG,EAAG,QAAS,EAAG,SAAU,EAAG,MAAO,EAAK,CAAA,EAC3F,OAAO,cAAe,CAAE,EAAG,GAAI,QAAS,CAAG,EAAE,CAAE,EAAG,EAAG,QAAS,EAAG,SAAU,EAAK,EAAE,OAAO,EACzF,OAAO,cAAe,CAAE,EAAG,GAAI,QAAS,CAAG,EAAE,CAAE,EAAG,EAAG,QAAS,EAAG,SAAU,EAAK,EAAE,OAAO,EACzF,OAAO,gBAAiB,CAAE,MAAO,EAAG,QAAS,EAAG,SAAU,GAAG,EAAI,CAAE,MAAO,EAAG,QAAS,EAAG,SAAU,EAAG,SAAU,IAAK,KAAM,oBAAsB,EAAE,KAAK,EAG/J,SAAS,iBAAiB,kBAAkB,EAAE,QAAQC,GAAU,CAC5D,KAAK,OAAOA,EACR,CAAE,EAAG,GAAI,QAAS,CAAG,EACrB,CACI,EAAG,EAAG,QAAS,EAAG,SAAU,GAC5B,cAAe,CACX,QAASA,EACT,MAAO,SAC3B,CACA,CACS,CACT,CAAK,EAIuB,SAAS,iBAAiB,yDAAyD,EAE3F,QAAQ,CAACC,EAAIC,IAAU,CACnC,KAAK,OAAOD,EACR,CACI,EAAG,GACH,QAAS,CACZ,EACD,CACI,EAAG,EACH,QAAS,EACT,SAAU,GACV,KAAM,aACN,cAAe,CACX,QAASA,EACT,MAAO,UACP,cAAe,wBACnC,CACA,CACS,CACT,CAAK,EAGD,MAAME,EAAM,SAAS,cAAc,oBAAoB,EACpDA,GACC,KAAK,OAAOA,EACR,CAAE,MAAO,GAAK,QAAS,CAAG,EAC1B,CAAE,MAAO,EAAG,QAAS,EAAG,SAAU,EAAG,cAAe,CAAE,QAASA,EAAK,MAAO,SAAW,CAAA,CACzF,EAGL,MAAMC,EAAc,SAAS,cAAc,OAAO,EAC/CA,GACC,KAAK,OAAOA,EACR,CAAE,EAAG,GAAI,QAAS,CAAG,EACrB,CAAE,EAAG,EAAG,QAAS,EAAG,SAAU,GAAK,cAAe,CAAE,QAASA,EAAa,MAAO,SAAW,CAAA,CAC/F,EASL,MAAMC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAQ,SAAS,iBAAiB,oBAAoB,EAEzDF,IACCA,EAAO,iBAAiB,QAAS,IAAM,CACnCA,EAAO,UAAU,OAAO,WAAW,EACnCC,EAAW,UAAU,OAAO,SAAS,EACrC,SAAS,KAAK,UAAU,OAAO,WAAW,CACtD,CAAS,EACDC,EAAM,QAAQC,GAAKA,EAAE,iBAAiB,QAAS,IAAM,CACjDH,EAAO,UAAU,OAAO,WAAW,EACnCC,EAAW,UAAU,OAAO,SAAS,EACrC,SAAS,KAAK,UAAU,OAAO,WAAW,CACtD,CAAS,CAAC,GAIN,MAAMG,EAAO,SAAS,eAAe,aAAa,EAClD,GAAIA,EAAM,CACN,MAAMC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAC,CAAC,EAAE,EAAGC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAC,CAAC,EAAE,EACrEC,EAAMF,EAAKC,EACd,SAAS,eAAe,aAAa,IAAG,SAAS,eAAe,aAAa,EAAE,YAAc,GAAGD,CAAE,MAAMC,CAAE,IAG7G,MAAME,EAAK,SAAS,eAAe,OAAO,EACvCA,GAAIA,EAAG,iBAAiB,QAASC,GAAKA,EAAE,OAAO,MAAQA,EAAE,OAAO,MAAM,QAAQ,MAAM,EAAE,CAAC,EAE1FL,EAAK,iBAAiB,SAAWK,GAAM,CAEnC,GADAA,EAAE,eAAgB,EACf,SAAS,SAAS,eAAe,SAAS,EAAE,KAAK,IAAMF,EAAK,CAC3D,MAAM,eAAe,EAAG,MACxC,CACY,MAAMG,EAAMN,EAAK,cAAc,QAAQ,EACvCM,EAAI,YAAc,WAClBA,EAAI,MAAM,WAAa,UAAWA,EAAI,MAAM,MAAQ,OACpD,WAAW,IAAM,CACbN,EAAK,MAAM,QAAQ,OACnB,SAAS,eAAe,aAAa,EAAE,MAAM,QAAQ,OACxD,EAAE,GAAI,CACnB,CAAS,CACT,CAGQ,aAAa,QAAQ,gBAAgB,IACrC,WAAW,IAAA,OAAM,OAAAO,EAAA,SAAS,eAAe,aAAa,IAArC,YAAAA,EAAwC,UAAU,IAAI,eAAe,GAAI,GAC1FA,EAAA,SAAS,eAAe,cAAc,IAAtC,MAAAA,EAAyC,iBAAiB,QAAS,IAAM,CACrE,aAAa,QAAQ,iBAAkB,MAAM,EAC7C,SAAS,eAAe,aAAa,EAAE,UAAU,OAAO,YAAY,CAChF,GAEA,CAAC"}