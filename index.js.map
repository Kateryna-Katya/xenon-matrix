{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n    \n    // ==========================================\n    // 1. НАСТРОЙКА БИБЛИОТЕК\n    // ==========================================\n    \n    // Иконки\n    if (typeof lucide !== 'undefined') lucide.createIcons();\n\n    // GSAP + ScrollTrigger\n    if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n    }\n\n    // Lenis (Плавный скролл)\n    if (typeof Lenis !== 'undefined') {\n        try {\n            const lenis = new Lenis({\n                duration: 1.2,\n                easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n                smooth: true,\n            });\n            function raf(time) {\n                lenis.raf(time);\n                requestAnimationFrame(raf);\n            }\n            requestAnimationFrame(raf);\n            // Связка с GSAP\n            lenis.on('scroll', ScrollTrigger.update);\n            gsap.ticker.add((time) => lenis.raf(time * 1000));\n            gsap.ticker.lagSmoothing(0);\n        } catch (e) { console.warn('Lenis error:', e); }\n    }\n\n    // ==========================================\n    // 2. МОБИЛЬНОЕ МЕНЮ\n    // ==========================================\n    const burger = document.querySelector('.header__burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n    if (burger && mobileMenu) {\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('is-active');\n            mobileMenu.classList.toggle('is-open');\n            document.body.classList.toggle('no-scroll');\n        });\n\n        mobileLinks.forEach(link => {\n            link.addEventListener('click', () => {\n                burger.classList.remove('is-active');\n                mobileMenu.classList.remove('is-open');\n                document.body.classList.remove('no-scroll');\n            });\n        });\n    }\n\n    // ==========================================\n    // 3. АНИМАЦИИ (ПО СЕКЦИЯМ)\n    // ==========================================\n    \n    // --- A. HERO SECTION ---\n    const heroTl = gsap.timeline();\n    // Используем простые селекторы с проверкой\n    if(document.querySelector('.hero__title')) \n        heroTl.from('.hero__title', { y: 60, opacity: 0, duration: 1, ease: \"power3.out\" });\n    if(document.querySelector('.hero__desc')) \n        heroTl.from('.hero__desc', { y: 30, opacity: 0, duration: 0.8 }, \"-=0.6\");\n    if(document.querySelector('.hero__btns')) \n        heroTl.from('.hero__btns', { y: 20, opacity: 0, duration: 0.8 }, \"-=0.6\");\n    if(document.querySelector('.cube-wrapper')) \n        heroTl.from('.cube-wrapper', { scale: 0, opacity: 0, rotation: 180, duration: 1.5 }, \"-=1\");\n\n\n    // --- B. EXPERTISE (Исправление бага \"только первый элемент\") ---\n    // Мы находим ВСЕ карточки внутри секции expertise\n    const expertiseCards = document.querySelectorAll('.expertise .card');\n    \n    if (expertiseCards.length > 0) {\n        gsap.from(expertiseCards, {\n            scrollTrigger: {\n                trigger: '.expertise', // Анимация начнется, когда доскроллим до секции\n                start: \"top 75%\",      // Когда верх секции будет на 75% экрана\n            },\n            y: 50,           // Сдвиг снизу\n            opacity: 0,      // Появление из прозрачности\n            duration: 0.8,\n            stagger: 0.2,    // Задержка 0.2 сек между карточками (ВАЖНО)\n            ease: \"power2.out\"\n        });\n    }\n    \n    // Заголовок экспертизы\n    const expTitle = document.querySelector('.expertise .section__header');\n    if (expTitle) {\n        gsap.from(expTitle, {\n            scrollTrigger: { trigger: '.expertise', start: \"top 80%\" },\n            y: 30, opacity: 0, duration: 0.8\n        });\n    }\n\n\n    // --- C. INNOVATION ---\n    // Список галочек\n    const innovList = document.querySelectorAll('.innovation__list li');\n    if (innovList.length > 0) {\n        gsap.from(innovList, {\n            scrollTrigger: { trigger: '.innovation', start: \"top 75%\" },\n            x: -30, opacity: 0, duration: 0.6, stagger: 0.15\n        });\n    }\n    // Картинка справа\n    const innovImg = document.querySelector('.innovation__image');\n    if (innovImg) {\n        gsap.from(innovImg, {\n            scrollTrigger: { trigger: '.innovation', start: \"top 75%\" },\n            scale: 0.9, opacity: 0, duration: 1\n        });\n    }\n\n\n    // --- D. BLOG ---\n    const blogCards = document.querySelectorAll('.blog-card');\n    if (blogCards.length > 0) {\n        gsap.from(blogCards, {\n            scrollTrigger: { trigger: '.blog', start: \"top 70%\" },\n            y: 60, opacity: 0, duration: 0.8, stagger: 0.2\n        });\n    }\n\n\n    // --- E. CONTACTS ---\n    const contactItems = document.querySelectorAll('.contact__item');\n    if (contactItems.length > 0) {\n        gsap.from(contactItems, {\n            scrollTrigger: { trigger: '.contact', start: \"top 80%\" },\n            y: 20, opacity: 0, duration: 0.6, stagger: 0.1\n        });\n    }\n    const contactForm = document.querySelector('.form');\n    if (contactForm) {\n        gsap.from(contactForm, {\n            scrollTrigger: { trigger: '.contact', start: \"top 80%\" },\n            x: 50, opacity: 0, duration: 0.8\n        });\n    }\n\n    // ==========================================\n    // 4. ФОРМА (Валидация + Капча)\n    // ==========================================\n    const form = document.getElementById('contactForm');\n    \n    if (form) {\n        // Капча\n        const num1 = Math.floor(Math.random() * 5) + 1; // Простые числа 1-5\n        const num2 = Math.floor(Math.random() * 5) + 1;\n        const result = num1 + num2;\n        const captchaLabel = document.getElementById('captchaTask');\n        if(captchaLabel) captchaLabel.textContent = `${num1} + ${num2}`;\n\n        // Валидация телефона\n        const phoneInput = document.getElementById('phone');\n        if (phoneInput) {\n            phoneInput.addEventListener('input', (e) => {\n                e.target.value = e.target.value.replace(/\\D/g, ''); // Только цифры\n            });\n        }\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            // Проверка капчи\n            const captchaInput = document.getElementById('captcha');\n            if (parseInt(captchaInput.value) !== result) {\n                alert('Ошибка в примере! Попробуйте еще раз.');\n                captchaInput.value = '';\n                return;\n            }\n\n            // Успешная отправка\n            const btn = form.querySelector('button');\n            const originalText = btn.textContent;\n            btn.textContent = 'Отправлено!';\n            btn.style.backgroundColor = '#D9F99D'; // Lime color\n            btn.style.color = '#111';\n            \n            setTimeout(() => {\n                form.style.display = 'none';\n                document.getElementById('formSuccess').style.display = 'block';\n                form.reset();\n            }, 1000);\n        });\n    }\n\n    // ==========================================\n    // 5. COOKIE\n    // ==========================================\n    const cookiePopup = document.getElementById('cookiePopup');\n    if (cookiePopup && !localStorage.getItem('cookieAccepted')) {\n        setTimeout(() => cookiePopup.classList.add('is-visible'), 2500);\n        \n        document.getElementById('acceptCookie').addEventListener('click', () => {\n            localStorage.setItem('cookieAccepted', 'true');\n            cookiePopup.classList.remove('is-visible');\n        });\n    }\n});"],"names":["raf","time","lenis","t","e","burger","mobileMenu","mobileLinks","link","heroTl","expertiseCards","expTitle","innovList","innovImg","blogCards","contactItems","contactForm","form","num1","num2","result","captchaLabel","phoneInput","captchaInput","btn","cookiePopup"],"mappings":"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"}